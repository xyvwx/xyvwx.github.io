<!DOCTYPE html>
<html>
    <head>
        <title>äº¤äº’å¼ç‰©ä½“å¯¹è±¡å±•ç¤ºï¼ˆåˆï¼‰</title>
        <meta charset="utf-8">
        <style>
            body {
                margin: 0;
                padding: 0;
                font-family: Arial, sans-serif;
                background-color: #f5f5f5;
                overflow: hidden;
            }
            
            .container {
                display: flex;
                height: 100vh;
                width: 100vw;
            }
            
            .viewer-panel {
                flex: 3;
                background: #2c3e50;
                display: flex;
                flex-direction: column;
                padding: 10px;
            }
            
            .canvas-container {
                flex: 1;
                display: flex;
                justify-content: center;
                align-items: center;
                background: #34495e;
                border-radius: 8px;
                margin-bottom: 10px;
            }
            
            #gl-canvas {
                border: 2px solid #3498db;
                border-radius: 4px;
                background: #000;
            }
            
            .info-panel {
                background: #34495e;
                color: white;
                padding: 10px;
                border-radius: 8px;
                font-size: 14px;
            }
            
            .controls-panel {
                flex: 2;
                background: #ecf0f1;
                padding: 15px;
                overflow-y: auto;
                display: flex;
                flex-direction: column;
                gap: 15px;
            }
            
            .control-group {
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 5px rgba(0,0,0,0.1);
                border-left: 4px solid #3498db;
            }
            
            .control-group h3 {
                margin: 0 0 12px 0;
                color: #2c3e50;
                font-size: 16px;
                border-bottom: 1px solid #eee;
                padding-bottom: 8px;
            }
            
            .control-row {
                display: flex;
                align-items: center;
                margin: 8px 0;
                gap: 10px;
            }
            
            .control-row label {
                min-width: 80px;
                font-size: 14px;
                color: #555;
            }
            
            .slider-container {
                flex: 1;
                display: flex;
                align-items: center;
                gap: 10px;
            }
            
            input[type="range"] {
                flex: 1;
                height: 6px;
                background: #ddd;
                border-radius: 3px;
                outline: none;
            }
            
            input[type="range"]::-webkit-slider-thumb {
                appearance: none;
                width: 16px;
                height: 16px;
                background: #3498db;
                border-radius: 50%;
                cursor: pointer;
            }
            
            .value-display {
                min-width: 40px;
                text-align: center;
                background: #f8f9fa;
                padding: 2px 8px;
                border-radius: 4px;
                font-size: 12px;
                border: 1px solid #ddd;
            }
            
            .radio-group {
                display: flex;
                gap: 15px;
                margin: 8px 0;
            }
            
            .radio-option {
                display: flex;
                align-items: center;
                gap: 5px;
            }
            
            .color-picker {
                width: 40px;
                height: 30px;
                border: 1px solid #ddd;
                border-radius: 4px;
                cursor: pointer;
            }
            
            .file-input {
                width: 100%;
                padding: 8px;
                border: 1px solid #ddd;
                border-radius: 4px;
                background: white;
            }
            
            .keyboard-help {
                background: #fff3cd;
                border: 1px solid #ffeaa7;
                border-radius: 6px;
                padding: 12px;
                font-size: 12px;
                color: #856404;
            }
            
            .keyboard-help h4 {
                margin: 0 0 8px 0;
                color: #856404;
            }
            
            .keyboard-help p {
                margin: 4px 0;
            }
            
            .key {
                display: inline-block;
                background: #34495e;
                color: white;
                padding: 2px 6px;
                border-radius: 3px;
                font-size: 11px;
                margin: 0 2px;
            }
        </style>
        
        <script id="vertex-shader" type="x-shader/x-vertex">
            #version 300 es
            in vec4 vPosition;
            in vec4 vColor;
            out vec4 aColor;
        
            uniform mat4 modelViewMatrix;
            uniform mat4 projectionMatrix;
        
            void main()
            {
                gl_Position = projectionMatrix * modelViewMatrix * vPosition;
                aColor = vColor;
            }
        </script>
        
        <script id="fragment-shader" type="x-shader/x-fragment">
            #version 300 es
            precision mediump float;
        
            in vec4 aColor;
            out vec4 fColor;
        
            void main()
            {
                fColor = aColor;
            }
        </script>
        
        <script type="text/javascript" src="../common/webgl-utils.js"></script>
        <script type="text/javascript" src="../common/initShaders.js"></script>
        <script type="text/javascript" src="../common/gl-matrix-min.js"></script>
        <script type="text/javascript" src="../common/objloader.js"></script>
        <script type="text/javascript" src="../js/main.js"></script>
    </head>
    <body>
        <div class="container">
            <!-- å·¦ä¾§è§†å›¾é¢æ¿ -->
            <div class="viewer-panel">
                <div class="canvas-container">
                    <canvas id="gl-canvas" width="800" height="800">
                        ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒHTML5 Canvaså…ƒç´ 
                    </canvas>
                </div>
                <div class="info-panel">
                    <div><strong>çŠ¶æ€:</strong> <span id="status-info">ç­‰å¾…åŠ è½½æ¨¡å‹æ–‡ä»¶...</span></div>
                    <div><strong>é¡¶ç‚¹æ•°:</strong> <span id="vertex-count">0</span></div>
                    <div><strong>é¢ç‰‡æ•°:</strong> <span id="face-count">0</span></div>
                </div>
            </div>
            
            <!-- å³ä¾§æ§åˆ¶é¢æ¿ -->
            <div class="controls-panel">
                <!-- æ–‡ä»¶åŠ è½½ -->
                <div class="control-group">
                    <h3>ğŸ“ æ¨¡å‹åŠ è½½</h3>
                    <div class="control-row">
                        <label>é€‰æ‹©OBJæ–‡ä»¶:</label>
                        <input type="file" id="fileInput" class="file-input" accept=".obj">
                    </div>
                </div>
                
                <!-- æŠ•å½±æ–¹å¼ -->
                <div class="control-group">
                    <h3>ğŸ“ æŠ•å½±æ–¹å¼</h3>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="ortho" name="projtype" value="1" checked>
                            <label for="ortho">æ­£äº¤æŠ•å½±</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="persp" name="projtype" value="2">
                            <label for="persp">é€è§†æŠ•å½±</label>
                        </div>
                    </div>
                </div>
                
                <!-- ç»˜åˆ¶æ–¹å¼ -->
                <div class="control-group">
                    <h3>ğŸ¨ ç»˜åˆ¶æ–¹å¼</h3>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="wire" name="drawtype" value="1" checked>
                            <label for="wire">çº¿æ¡†æ¨¡å¼</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="solid" name="drawtype" value="2">
                            <label for="solid">é¢ç‰‡æ¨¡å¼</label>
                        </div>
                    </div>
                    <div class="control-row">
                        <label>æ¨¡å‹é¢œè‰²:</label>
                        <input type="color" id="objcolor" class="color-picker" value="#ff0000">
                    </div>
                </div>
                
                <!-- å˜æ¢æ§åˆ¶ -->
                <div class="control-group">
                    <h3>âš™ï¸ å˜æ¢æ§åˆ¶</h3>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="objpos" name="posgrp" value="1" checked>
                            <label for="objpos">ç‰©ä½“å˜æ¢</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="campos" name="posgrp" value="2">
                            <label for="campos">ç›¸æœºå˜æ¢</label>
                        </div>
                    </div>
                    
                    <!-- ä½ç½®æ§åˆ¶ -->
                    <div class="control-row">
                        <label>X ä½ç½®:</label>
                        <div class="slider-container">
                            <input type="range" id="xpos" min="-5.0" max="5.0" step="0.1" value="0">
                            <span id="xpos-value" class="value-display">0.0</span>
                        </div>
                    </div>
                    <div class="control-row">
                        <label>Y ä½ç½®:</label>
                        <div class="slider-container">
                            <input type="range" id="ypos" min="-5.0" max="5.0" step="0.1" value="0">
                            <span id="ypos-value" class="value-display">0.0</span>
                        </div>
                    </div>
                    <div class="control-row">
                        <label>Z ä½ç½®:</label>
                        <div class="slider-container">
                            <input type="range" id="zpos" min="-5.0" max="5.0" step="0.1" value="0">
                            <span id="zpos-value" class="value-display">0.0</span>
                        </div>
                    </div>
                    
                    <!-- æ—‹è½¬æ§åˆ¶ -->
                    <div class="control-row">
                        <label>X æ—‹è½¬:</label>
                        <div class="slider-container">
                            <input type="range" id="xrot" min="-360" max="360" step="1.0" value="0">
                            <span id="xrot-value" class="value-display">0Â°</span>
                        </div>
                    </div>
                    <div class="control-row">
                        <label>Y æ—‹è½¬:</label>
                        <div class="slider-container">
                            <input type="range" id="yrot" min="-360" max="360" step="1.0" value="0">
                            <span id="yrot-value" class="value-display">0Â°</span>
                        </div>
                    </div>
                    <div class="control-row">
                        <label>Z æ—‹è½¬:</label>
                        <div class="slider-container">
                            <input type="range" id="zrot" min="-360" max="360" step="1.0" value="0">
                            <span id="zrot-value" class="value-display">0Â°</span>
                        </div>
                    </div>
                    
                    <!-- ç¼©æ”¾æ§åˆ¶ -->
                    <div class="control-row">
                        <label>X ç¼©æ”¾:</label>
                        <div class="slider-container">
                            <input type="range" id="xscale" min="0.1" max="3.0" step="0.1" value="1.0">
                            <span id="xscale-value" class="value-display">1.0</span>
                        </div>
                    </div>
                    <div class="control-row">
                        <label>Y ç¼©æ”¾:</label>
                        <div class="slider-container">
                            <input type="range" id="yscale" min="0.1" max="3.0" step="0.1" value="1.0">
                            <span id="yscale-value" class="value-display">1.0</span>
                        </div>
                    </div>
                    <div class="control-row">
                        <label>Z ç¼©æ”¾:</label>
                        <div class="slider-container">
                            <input type="range" id="zscale" min="0.1" max="3.0" step="0.1" value="1.0">
                            <span id="zscale-value" class="value-display">1.0</span>
                        </div>
                    </div>
                </div>
                
                <!-- æŠ•å½±å‚æ•° -->
                <div class="control-group">
                    <h3>ğŸ“Š æŠ•å½±å‚æ•°</h3>
                    <div id="ortho-params">
                        <div class="control-row">
                            <label>å·¦è¾¹ç•Œ:</label>
                            <div class="slider-container">
                                <input type="range" id="left" min="-10.0" max="0.0" step="0.1" value="-3.0">
                                <span id="left-value" class="value-display">-3.0</span>
                            </div>
                        </div>
                        <div class="control-row">
                            <label>å³è¾¹ç•Œ:</label>
                            <div class="slider-container">
                                <input type="range" id="right" min="0.0" max="10.0" step="0.1" value="3.0">
                                <span id="right-value" class="value-display">3.0</span>
                            </div>
                        </div>
                        <div class="control-row">
                            <label>ä¸Šè¾¹ç•Œ:</label>
                            <div class="slider-container">
                                <input type="range" id="top" min="0.0" max="10.0" step="0.1" value="3.0">
                                <span id="top-value" class="value-display">3.0</span>
                            </div>
                        </div>
                        <div class="control-row">
                            <label>ä¸‹è¾¹ç•Œ:</label>
                            <div class="slider-container">
                                <input type="range" id="bottom" min="-10.0" max="0.0" step="0.1" value="-3.0">
                                <span id="bottom-value" class="value-display">-3.0</span>
                            </div>
                        </div>
                    </div>
                    <div id="persp-params" style="display:none;">
                        <div class="control-row">
                            <label>è§†é‡è§’åº¦:</label>
                            <div class="slider-container">
                                <input type="range" id="fovy" min="10" max="120" step="1" value="45">
                                <span id="fovy-value" class="value-display">45Â°</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- é”®ç›˜æ§åˆ¶è¯´æ˜ -->
                <div class="keyboard-help">
                    <h4>âŒ¨ï¸ é”®ç›˜æ§åˆ¶è¯´æ˜</h4>
                    <p><strong>ç§»åŠ¨æ§åˆ¶:</strong> 
                        <span class="key">W</span><span class="key">A</span><span class="key">S</span><span class="key">D</span> å¹³ç§»,
                        <span class="key">Z</span><span class="key">X</span> å‰åç§»åŠ¨
                    </p>
                    <p><strong>æ—‹è½¬æ§åˆ¶:</strong> 
                        <span class="key">U</span><span class="key">J</span> (Xè½´),
                        <span class="key">H</span><span class="key">K</span> (Yè½´),
                        <span class="key">N</span><span class="key">M</span> (Zè½´)
                    </p>
                    <p><strong>å…¶ä»–:</strong> 
                        <span class="key">R</span> é‡ç½®,
                        é¼ æ ‡æ‹–åŠ¨æ—‹è½¬è§†å›¾
                    </p>
                </div>
            </div>
        </div>
    </body>
</html>